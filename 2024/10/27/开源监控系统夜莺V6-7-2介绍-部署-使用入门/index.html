

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="sanyinjiang">
  <meta name="keywords" content="">
  
    <meta name="description" content="ä¸€ã€ä»‹ç»1.1 ç®€ä»‹â€‹		å¤œèºç›‘æ§æ˜¯ä¸€æ¬¾å¼€æºäº‘åŸç”Ÿè§‚æµ‹åˆ†æå·¥å…·ï¼Œé‡‡ç”¨ All-in-One çš„è®¾è®¡ç†å¿µï¼Œé›†æ•°æ®é‡‡é›†ã€å¯è§†åŒ–ã€ç›‘æ§å‘Šè­¦ã€æ•°æ®åˆ†æäºä¸€ä½“ï¼Œä¸äº‘åŸç”Ÿç”Ÿæ€ç´§å¯†é›†æˆï¼Œæä¾›å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§ç›‘æ§åˆ†æå’Œå‘Šè­¦èƒ½åŠ›ã€‚å¤œèºäº 2020 å¹´ 3 æœˆ 20 æ—¥ï¼Œåœ¨ github ä¸Šå‘å¸ƒ v1 ç‰ˆæœ¬ï¼Œå·²ç´¯è®¡è¿­ä»£ 100 å¤šä¸ªç‰ˆæœ¬ã€‚å®ƒæœ€åˆç”±æ»´æ»´å¼€å‘å’Œå¼€æºï¼Œå¹¶äº 2022 å¹´ 5 æœˆ 11 æ—¥ï¼Œæèµ äºˆä¸­å›½è®¡ç®—æœºå­¦">
<meta property="og:type" content="article">
<meta property="og:title" content="å¼€æºç›‘æ§ç³»ç»Ÿå¤œèºV6-7-2ä»‹ç»-éƒ¨ç½²-ä½¿ç”¨å…¥é—¨">
<meta property="og:url" content="https://jiangsanyin.github.io/2024/10/27/%E5%BC%80%E6%BA%90%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E5%A4%9C%E8%8E%BAV6-7-2%E4%BB%8B%E7%BB%8D-%E9%83%A8%E7%BD%B2-%E4%BD%BF%E7%94%A8%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="sanyinjiang">
<meta property="og:description" content="ä¸€ã€ä»‹ç»1.1 ç®€ä»‹â€‹		å¤œèºç›‘æ§æ˜¯ä¸€æ¬¾å¼€æºäº‘åŸç”Ÿè§‚æµ‹åˆ†æå·¥å…·ï¼Œé‡‡ç”¨ All-in-One çš„è®¾è®¡ç†å¿µï¼Œé›†æ•°æ®é‡‡é›†ã€å¯è§†åŒ–ã€ç›‘æ§å‘Šè­¦ã€æ•°æ®åˆ†æäºä¸€ä½“ï¼Œä¸äº‘åŸç”Ÿç”Ÿæ€ç´§å¯†é›†æˆï¼Œæä¾›å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§ç›‘æ§åˆ†æå’Œå‘Šè­¦èƒ½åŠ›ã€‚å¤œèºäº 2020 å¹´ 3 æœˆ 20 æ—¥ï¼Œåœ¨ github ä¸Šå‘å¸ƒ v1 ç‰ˆæœ¬ï¼Œå·²ç´¯è®¡è¿­ä»£ 100 å¤šä¸ªç‰ˆæœ¬ã€‚å®ƒæœ€åˆç”±æ»´æ»´å¼€å‘å’Œå¼€æºï¼Œå¹¶äº 2022 å¹´ 5 æœˆ 11 æ—¥ï¼Œæèµ äºˆä¸­å›½è®¡ç®—æœºå­¦">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/chCmQ8bKjwTZN4V.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/jDpqwNy35HKJ79V.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/Udo7cpgYxGsNt18.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/WFdu9zw3rAhpvKL.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/D4vRBUHp2mICWuQ.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/eb235h9dNAgHlX1.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/HTvd5pO21ZgGAi3.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/76VrEiwyYq1f5PX.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/Bj6JRhFetmykoIl.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/RiErvmyUs4oqbMA.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/F8zGBrDYpkyLmqn.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/mO6IC8TtDlE5B2b.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/NxRH1UczZeoiDMB.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/29/eugmKTJybG53l8q.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/rbKXLuyedAvsg1S.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/UJmPW1NqKIgdCYw.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/29/Ttglb6deoSiRUNc.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/HWapfo31FODgvLy.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/LGI8snSCHqipePo.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/9Z7xFYG46aWfw2s.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/bGmkQZgFqBRnTUX.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/tCNmaKYVIfuUZFP.png">
<meta property="og:image" content="https://s2.loli.net/2024/10/28/2gaTSyFUW1LwvPp.png">
<meta property="article:published_time" content="2024-10-27T10:40:14.000Z">
<meta property="article:modified_time" content="2025-03-22T08:39:16.000Z">
<meta property="article:author" content="sanyinjiang">
<meta property="article:tag" content="å¼€æº ç›‘æ§ç³»ç»Ÿ å¤œèºV6.7.2">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://s2.loli.net/2024/10/28/chCmQ8bKjwTZN4V.png">
  
  
  
  <title>å¼€æºç›‘æ§ç³»ç»Ÿå¤œèºV6-7-2ä»‹ç»-éƒ¨ç½²-ä½¿ç”¨å…¥é—¨ - sanyinjiang</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"jiangsanyin.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":["home"]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"lhgjNNoNy5Syl0F4Bw8i5P5K-gzGzoHsz","app_key":"0d6M8Wx7ZmYewOQqA20Nbqen","server_url":"https://lhgjnnon.lc-cn-n1-shared.com","path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>sanyinjiang</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle">å¼€æºç›‘æ§ç³»ç»Ÿå¤œèºV6-7-2ä»‹ç»-éƒ¨ç½²-ä½¿ç”¨å…¥é—¨</span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-10-27 18:40" pubdate>
          2024å¹´10æœˆ27æ—¥ æ™šä¸Š
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          4.2k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          35 åˆ†é’Ÿ
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> æ¬¡
        </span>
        
      
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">å¼€æºç›‘æ§ç³»ç»Ÿå¤œèºV6-7-2ä»‹ç»-éƒ¨ç½²-ä½¿ç”¨å…¥é—¨</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="ä¸€ã€ä»‹ç»"><a href="#ä¸€ã€ä»‹ç»" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h1><h2 id="1-1-ç®€ä»‹"><a href="#1-1-ç®€ä»‹" class="headerlink" title="1.1 ç®€ä»‹"></a>1.1 ç®€ä»‹</h2><p>â€‹		å¤œèºç›‘æ§æ˜¯ä¸€æ¬¾å¼€æºäº‘åŸç”Ÿè§‚æµ‹åˆ†æå·¥å…·ï¼Œé‡‡ç”¨ All-in-One çš„è®¾è®¡ç†å¿µï¼Œé›†æ•°æ®é‡‡é›†ã€å¯è§†åŒ–ã€ç›‘æ§å‘Šè­¦ã€æ•°æ®åˆ†æäºä¸€ä½“ï¼Œä¸äº‘åŸç”Ÿç”Ÿæ€ç´§å¯†é›†æˆï¼Œæä¾›å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§ç›‘æ§åˆ†æå’Œå‘Šè­¦èƒ½åŠ›ã€‚å¤œèºäº 2020 å¹´ 3 æœˆ 20 æ—¥ï¼Œåœ¨ github ä¸Šå‘å¸ƒ v1 ç‰ˆæœ¬ï¼Œå·²ç´¯è®¡è¿­ä»£ 100 å¤šä¸ªç‰ˆæœ¬ã€‚å®ƒæœ€åˆç”±æ»´æ»´å¼€å‘å’Œå¼€æºï¼Œå¹¶äº 2022 å¹´ 5 æœˆ 11 æ—¥ï¼Œæèµ äºˆä¸­å›½è®¡ç®—æœºå­¦ä¼šå¼€æºå‘å±•å§”å‘˜ä¼šï¼ˆCCF ODCï¼‰ï¼Œä¸º CCF ODC æˆç«‹åæ¥å—æèµ çš„ç¬¬ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚å¤œèºçš„æ ¸å¿ƒç ”å‘å›¢é˜Ÿï¼Œä¹Ÿæ˜¯ Open-Falcon é¡¹ç›®åŸæ ¸å¿ƒç ”å‘äººå‘˜ã€‚</p>
<p>â€‹		å¤œèºçš„ä»£ç åº“åˆ†å‰ç«¯ä»£ç åº“ä¸åç«¯ä»£ç åº“ï¼Œå·²ç»æ‰˜ç®¡å€åœ¨githubå¹³å°ï¼Œåç«¯ä¸»è¦å®ç°è¯­è¨€æ˜¯Goï¼Œå‰ç«¯ä¸»è¦å®ç°è¯­è¨€æ˜¯TypeScriptã€‚</p>
<ul>
<li>åç«¯ï¼š<a target="_blank" rel="noopener" href="https://github.com/ccfos/nightingale">ğŸ’¡ https://github.com/ccfos/nightingale</a></li>
<li>å‰ç«¯ï¼š<a target="_blank" rel="noopener" href="https://github.com/n9e/fe">ğŸ’¡ https://github.com/n9e/fe</a></li>
</ul>
<h2 id="1-2-æ€è€ƒä¸åˆ†æ"><a href="#1-2-æ€è€ƒä¸åˆ†æ" class="headerlink" title="1.2 æ€è€ƒä¸åˆ†æ"></a>1.2 æ€è€ƒä¸åˆ†æ</h2><p>â€‹		åœ¨å¤œèºç›‘æ§è¿™ä¸ªè½¯ä»¶ä¹‹å‰ï¼Œç›‘æ§å‘Šè­¦ã€å‘Šè­¦è‡ªæ„ˆä¸å›¾è¡¨å±•ç¤ºå·²ç»æœ‰äº†ä¸€å¥—å¯è¡Œçš„å¼€æºè§£å†³æ–¹æ¡ˆå³â€œPrometheus+Grafana+AlertManagerâ€ç»„åˆã€‚é‚£ä¸ºä»€ä¹ˆè¿˜éœ€è¦å†å¼€å‘ä¸€å¥—â€œé‡å¤çš„â€ã€æœ‰ç€ç›¸åŒåŠŸèƒ½çš„è½¯ä»¶è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿå…¶å®å®ƒä»¬ä¸»ä½“åŠŸèƒ½æ˜¯é‡å¤çš„ï¼Œä½†å®ƒä»¬çš„ä¼˜åŠ¿ä¸å¯ç»„åˆæ€§ä¸ä¸€æ ·ï¼Œè¿™æ ·ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…éœ€æ±‚æ¥é€‰æ‹©é€‚åˆè‡ªå·±çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>â€‹		ä¸ºäº†å™è¿°çš„ç®€æ´æ€§ï¼Œä»¥ä¸‹ä½¿ç”¨â€œPGAç»„åˆâ€ä»£æ›¿â€œPrometheus+Grafana+AlertManagerâ€ç»„åˆã€‚</p>
<table>
<thead>
<tr>
<th>åŠŸèƒ½ç‰¹å¾æˆ–å®é™…éœ€æ±‚</th>
<th>â€œPGAç»„åˆâ€</th>
<th>å¤œèº</th>
</tr>
</thead>
<tbody><tr>
<td>å…ˆå‰å·²ç»ä½¿ç”¨â€œPGAç»„åˆâ€æ­å»ºå¥½è‡ªå·±ç›‘æ§å‘Šè­¦ä¸å›¾è¡¨å±•ç¤ºï¼ŒåŠŸèƒ½å·²ç»åŸºæœ¬æ»¡è¶³éœ€æ±‚ä¸”æ²¡æœ‰ç—›ç‚¹</td>
<td>+1â€™</td>
<td></td>
</tr>
<tr>
<td>éœ€è¦ä½¿ç”¨Grafanaç¤¾åŒºä¸­åºå¤§è€Œç‚«é…·çš„å›¾è¡¨</td>
<td>+1â€™</td>
<td>ï¼ˆå¤œGrafanaä¸­ä¸€èˆ¬å¸¸è§çš„åŸºç¡€çš„å›¾è¡¨å›¾è¡¨åœ¨å¤œèºéƒ½æ˜¯æœ‰çš„æˆ–å¯é‡ç”¨çš„ï¼‰</td>
</tr>
<tr>
<td>éœ€è¦ä½¿ç”¨å¤šä¸ªTSDBå¦‚Prometheusã€VictoriaMetricsã€Thanosç­‰ï¼Œéœ€è¦ä¸€ä¸ªç»Ÿä¸€çš„å¹³å°æ¥ç®¡ç†å‘Šè­¦ã€çœ‹å›¾</td>
<td></td>
<td>+1â€™</td>
</tr>
<tr>
<td>è®©å¤šä¸ªå›¢é˜Ÿè‡ªè¡Œé‡‡ç”¨å›¾å½¢åŒ–æ–¹å¼çµæ´»æ–¹ä¾¿åœ°å®šåˆ¶è‡ªå·±çš„å‘Šè­¦è§„åˆ™ä¸å›¾è¡¨</td>
<td></td>
<td>+1â€™</td>
</tr>
<tr>
<td>è®©å¤šä¸ªå›¢é˜Ÿè‡ªè¡Œé‡‡ç”¨å›¾å½¢åŒ–æ–¹å¼çµæ´»æ–¹ä¾¿åœ°å®šåˆ¶è‡ªå·±çš„å‘Šè­¦ç­–ç•¥é…ç½®ï¼Œæ¯”å¦‚æ§åˆ¶ç”Ÿæ•ˆæ—¶é—´ã€ä¸€å¥—è§„åˆ™ç”Ÿæ•ˆå¤šä¸ªé›†ç¾¤</td>
<td></td>
<td>+1â€™</td>
</tr>
<tr>
<td>éœ€è¦å‘Šè­¦è‡ªæ„ˆèƒ½åŠ›ï¼Œå¦‚å‘Šè­¦ä¹‹åè‡ªåŠ¨æ‰§è¡Œä¸ªè„šæœ¬</td>
<td></td>
<td>+1â€™</td>
</tr>
<tr>
<td>ä»¥å›¾å½¢åŒ–æ–¹å¼å¼€ç®±å³ç”¨å†…ç½®å‘Šè­¦è§„åˆ™å’Œå†…ç½®ä»ªè¡¨ç›˜</td>
<td></td>
<td>+1â€™</td>
</tr>
</tbody></table>
<p>â€‹		å¯ä»¥çœ‹åˆ°ï¼Œâ€œPGAç»„åˆâ€ç”±äºäº§ç”Ÿçš„æ—¶é—´æ›´æ—©ï¼Œå¯èƒ½å·²åœ¨ç›¸å½“ä¸€éƒ¨ä¼ä¸šæˆ–åœºæ™¯çš„ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œå¦‚å…¶åŠŸèƒ½å·²èƒ½åŸºæœ¬æ»¡è¶³éœ€æ±‚ã€ä½¿ç”¨ä¸­ç¡®å®æ²¡æœ‰ç—›ç‚¹ã€éœ€è¦Grafanaç¤¾åŒºä¸­åºå¤§è€Œç‚«é…·çš„å›¾è¡¨ï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨â€œPGAç»„åˆâ€ã€‚å¦åˆ™å°±å¯ä»¥å°è¯•å¤œèºè¿™ä¸€å¥—è§£å†³æ–¹æ¡ˆã€‚</p>
<h2 id="1-3-æ„æ¶ä»‹ç»"><a href="#1-3-æ„æ¶ä»‹ç»" class="headerlink" title="1.3 æ„æ¶ä»‹ç»"></a>1.3 æ„æ¶ä»‹ç»</h2><p><img src="https://s2.loli.net/2024/10/28/chCmQ8bKjwTZN4V.png" srcset="/img/loading.gif" lazyload alt="20230531103435"></p>
<p>â€‹	é¦–å…ˆä¸Šå›¾ä¸­é—´çš„é£é¸Ÿä»£è¡¨å¤œèºçš„æ ¸å¿ƒè¿›ç¨‹ n9e ï¼ˆä¸‹æ–‡ä»¥ n9e ä»£æ›¿ï¼‰ï¼Œå®ƒçš„é›†ç¾¤æ–¹å¼éå¸¸ç®€å•åªéœ€éƒ¨ç½²å¤šèŠ‚ç‚¹å³å¯å®ç°ã€‚</p>
<p>â€‹	å¯¹äº n9e æ¥è¯´ï¼Œå®ƒæœ¬èº«ä¾èµ–çš„å­˜å‚¨æœ‰ä¸¤ä¸ª</p>
<ul>
<li>Mysql : å­˜æ”¾é…ç½®ç±»åˆ«ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·ï¼Œç›‘æ§å¤§ç›˜ï¼Œå‘Šè­¦è§„åˆ™ç­‰</li>
<li>Redis : å­˜æ”¾è®¿é—®ä»¤ç‰Œ(JWT Token)ï¼Œå¿ƒè·³ä¿¡æ¯ï¼Œå¦‚æœºå™¨åˆ—è¡¨ä¸­CPUã€å†…å­˜ã€æ—¶é—´åç§»ã€æ ¸æ•°ã€æ“ä½œç³»ç»Ÿã€CPUæ¶æ„ç­‰</li>
</ul>
<p>â€‹	ä» v6 ç‰ˆæœ¬å¼€å§‹ï¼Œå¤œèºå°è¯•è½¬å‹ä¸ºç»Ÿä¸€å¯è§‚æµ‹æ€§å¹³å°ï¼Œn9e ä¸å†ä»…æ”¯æŒæ¥å…¥æ—¶åºæ•°æ®æº(Prometheusã€Victoriametricsã€M3DBã€Thanos)ï¼Œä¹Ÿå¯ä»¥æ¥å…¥æ—¥å¿—ç±»æ•°æ®æºï¼ˆElasticsearchï¼ŒLokiã€é¢„ã€‘ï¼‰ï¼Œé“¾è·¯è¿½è¸ªæ•°æ®æºï¼ˆJaegerï¼‰ã€‚</p>
<p>â€‹	å·¦ä¾§å°±æ˜¯ n9e çš„æ•°æ®æ¥æºï¼Œn9e å¯ä»¥æ”¯æŒå¤šç§é‡‡é›†å™¨ agentï¼Œæ¯”å¦‚ Datadog-Agentï¼ŒTelegrafï¼ŒGrafana-Agentï¼ŒOpenTSDB agentï¼ŒNode-Exporterï¼Œvmagent éƒ½å¯ä»¥å¯¹æ¥ï¼Œä¸è¿‡æœ€æ¨èçš„è¿˜æ˜¯ Categrafã€‚æ¯”å¦‚åœ¨ n9e ä¸­æœºå™¨åˆ—è¡¨é¡µé¢çš„å¿ƒè·³ä¿¡æ¯éƒ½æ˜¯ Categraf æ‰ä¼šå»é‡‡é›†å¹¶ä¸ŠæŠ¥çš„ï¼Œæ‰€ä»¥ä¸ºäº†æ›´ä¸æ»‘ä½¿ç”¨æ›´æ¨èä½¿ç”¨ Categrafï¼Œå¹¶ä¸” Categraf é‡‡ç”¨ All-In-One çš„è®¾è®¡ï¼Œé‡‡é›†æ—¥å¿—ï¼ŒæŒ‡æ ‡ï¼Œé“¾è·¯è¿½è¸ªï¼Œæ‰€æœ‰çš„é‡‡é›†å·¥ä½œä½¿ç”¨ä¸€ä¸ª agent æ¥è§£å†³ã€‚</p>
<p>â€‹	ä»‹ç»å®Œä¸­å¿ƒéƒ¨ç½²æ¶æ„ï¼Œæˆ‘ä»¬å†æ¥æè¿°ä¸€ä¸‹å®ƒçš„æ•°æ®æµï¼šå‡è®¾æ˜¯æ—¶åºæŒ‡æ ‡æ•°æ®çš„é‡‡é›†ï¼Œagent æŠŠé‡‡é›†åˆ°çš„æ•°æ®æ¨é€ç»™ n9e ï¼ˆç«¯å£:17000ï¼‰ï¼Œç„¶åç»ç”± n9e åŠ å·¥ï¼ˆè‡ªåŠ¨æ·»åŠ é™„åŠ æ ‡ç­¾ï¼‰è½¬å‘ç»™å¯¹åº”çš„æ—¶åºæ•°æ®åº“ä¿å­˜ã€‚å¦å¤–åœ¨ n9e æŠŠæ•°æ®çš„è½¬å‘ç»™æ—¶åºæ•°æ®åº“ä¹‹å‰ï¼Œä¼šå…ˆä»ç›‘æ§æ•°æ®ä¸­æå–å‡º ident æ ‡ç­¾å†™å…¥ mysql çš„ target è¡¨ï¼ˆæœºå™¨åˆ—è¡¨ï¼‰ä¸­ï¼ŒåŒæ—¶å¦‚æœ agent ç”¨çš„æ˜¯ Categraf å¹¶ä¸”é…ç½®äº†å¿ƒè·³(heartbeat&#x3D;true)ï¼Œåˆ™ä¼šæŠŠå¿ƒè·³ä¸ŠæŠ¥çš„ metadata å­˜å…¥ Redisï¼ˆå°±æ˜¯é‚£äº›æ ¸æ•°ã€æ“ä½œç³»ç»Ÿã€CPUæ¶æ„ç­‰ï¼‰ã€‚</p>
<p>â€‹		æ›´å¤æ‚çš„éƒ¨ç½²æ–¹æ¡ˆè¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://flashcat.cloud/docs/content/flashcat-monitor/nightingale-v6/arch/%E3%80%82">https://flashcat.cloud/docs/content/flashcat-monitor/nightingale-v6/arch/ã€‚</a></p>
<h1 id="äºŒã€éƒ¨ç½²"><a href="#äºŒã€éƒ¨ç½²" class="headerlink" title="äºŒã€éƒ¨ç½²"></a>äºŒã€éƒ¨ç½²</h1><h2 id="2-1-åŸºç¡€ç¯å¢ƒ"><a href="#2-1-åŸºç¡€ç¯å¢ƒ" class="headerlink" title="2.1    åŸºç¡€ç¯å¢ƒ"></a>2.1    åŸºç¡€ç¯å¢ƒ</h2><h3 id="2-1-1-ç¯å¢ƒä¿¡æ¯"><a href="#2-1-1-ç¯å¢ƒä¿¡æ¯" class="headerlink" title="2.1.1     ç¯å¢ƒä¿¡æ¯"></a>2.1.1     ç¯å¢ƒä¿¡æ¯</h3><table>
<thead>
<tr>
<th>ä¸»æœºå</th>
<th>IP</th>
<th>æ“ä½œç³»ç»Ÿ</th>
<th>è§„æ ¼</th>
<th>ç£ç›˜</th>
<th>rootç”¨æˆ·å¯†ç </th>
</tr>
</thead>
<tbody><tr>
<td>k8s03-1</td>
<td>10.13.15.61</td>
<td>Ubuntu 20.04.3 LTS-amd64</td>
<td>8c16g</td>
<td>400G</td>
<td>Changeme@123</td>
</tr>
</tbody></table>
<h3 id="2-1-2-å®‰è£…è¦æ±‚è¯´æ˜"><a href="#2-1-2-å®‰è£…è¦æ±‚è¯´æ˜" class="headerlink" title="2.1.2     å®‰è£…è¦æ±‚è¯´æ˜"></a>2.1.2     å®‰è£…è¦æ±‚è¯´æ˜</h3><p>ï¼ˆ1ï¼‰æœåŠ¡å™¨æ„æ¶ï¼šæ”¯æŒx84_64ï¼Œä¹Ÿæ”¯æŒ arm64æ„æ¶ã€‚amd64 æ˜¯ x84 çš„åŒ…ï¼Œä¸‹è½½ç«™ç‚¹ä¹Ÿæä¾› arm64 çš„åŒ…ã€‚å¦‚æœéœ€è¦å…¶ä»–å¹³å°çš„åŒ…åˆ™è¦è‡ªè¡Œç¼–è¯‘éªŒè¯ã€‚</p>
<p>ï¼ˆ2ï¼‰æ“ä½œç³»ç»Ÿï¼šç¬”è€…åœ¨centos7.9-amd64ä¸Ubuntu20.04.x LTS-amd64ä¸Šéƒ½éªŒè¯è¿‡ï¼Œå¯è¡Œã€‚å…¶ä»–åŸºäºLinuxå†…æ ¸çš„æ“ä½œç³»ç»Ÿç†è®ºä¸Šéƒ½æ”¯æŒï¼Œå…·ä½“è¦éªŒè¯ã€‚</p>
<p>ï¼ˆ3ï¼‰æ“ä½œç³»ç»Ÿè§„æ ¼ï¼šå¦‚æœå°±æ˜¯ç”¨æ¥æ£€éªŒä¸€ä¸‹ã€ä¸ä¸Šç”Ÿäº§ç¯å¢ƒï¼Œ2æ ¸CPU+4Gå†…å­˜+50Gç£ç›˜ç©ºé—´å³å¯ã€‚å¦‚æœä¸Šç”Ÿäº§ç¯å¢ƒï¼Œå»ºè®®8C16GåŠä»¥ä¸Š+300Gç£ç›˜ä»¥ä¸Šï¼Œä¸”æœ€å¥½æ­å»ºä¸€ä¸ªå¤œèºé«˜å¯ç”¨é›†ç¾¤ï¼Œæ­å»ºå¤œèºé«˜å¯ç”¨é›†ç¾¤æ–¹æ³•è§å…¶å®˜ç½‘ã€‚</p>
<p>ï¼ˆ4ï¼‰å¤œèºå®˜ç½‘å®‰è£…æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://flashcat.cloud/docs/content/flashcat-monitor/nightingale-v6/install/intro/">https://flashcat.cloud/docs/content/flashcat-monitor/nightingale-v6/install/intro/</a></p>
<h2 id="2-2-ä¸‹è½½å®‰è£…åŒ…"><a href="#2-2-ä¸‹è½½å®‰è£…åŒ…" class="headerlink" title="2.2    ä¸‹è½½å®‰è£…åŒ…"></a>2.2    ä¸‹è½½å®‰è£…åŒ…</h2><p>ä»¥ä¸‹å‡è®¾å®‰è£…æ–‡ä»¶ä¸å®‰è£…ç›®å½•åˆ†åˆ«åœ¨ï¼š&#x2F;data&#x2F;softsã€&#x2F;data&#x2F;server</p>
<h3 id="2-2-1-å¤œèºä¸‹è½½åœ°å€"><a href="#2-2-1-å¤œèºä¸‹è½½åœ°å€" class="headerlink" title="2.2.1     å¤œèºä¸‹è½½åœ°å€"></a>2.2.1     å¤œèºä¸‹è½½åœ°å€</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">ä½¿ç”¨n9e-v6.7.2</span><br>cd /data/softs<br>wget https://github.com/ccfos/nightingale/releases/download/v6.7.2/n9e-v6.7.2-linux-amd64.tar.gz<br></code></pre></td></tr></table></figure>

<h3 id="2-2-2-categrafä¸‹è½½åœ°å€"><a href="#2-2-2-categrafä¸‹è½½åœ°å€" class="headerlink" title="2.2.2     categrafä¸‹è½½åœ°å€"></a>2.2.2     categrafä¸‹è½½åœ°å€</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">ä»¥categraf-v0.3.61-linux-amd64ä¸ºä¾‹</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">Linuxä¸Šcategrafï¼šhttps://github.com/flashcatcloud/categraf/releases/download/v0.3.61/categraf-v0.3.61-linux-amd64.tar.gz</span><br>cd /data/softs<br>wget https://github.com/flashcatcloud/categraf/releases/download/v0.3.61/categraf-v0.3.61-linux-amd64.tar.gz<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">Windowsä¸Šcategrafï¼šhttps://github.com/flashcatcloud/categraf/releases/download/v0.3.61/categraf-v0.3.61-windows-amd64.zip</span><br></code></pre></td></tr></table></figure>

<h3 id="2-2-3-victoria-metricsä¸‹è½½åœ°å€"><a href="#2-2-3-victoria-metricsä¸‹è½½åœ°å€" class="headerlink" title="2.2.3     victoria-metricsä¸‹è½½åœ°å€"></a>2.2.3     victoria-metricsä¸‹è½½åœ°å€</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">ä½¿ç”¨å•æœºç‰ˆVM-v1.93.10</span><br>cd /data/softs<br>wget https://github.com/VictoriaMetrics/VictoriaMetrics/releases/download/v1.93.10/victoria-metrics-linux-amd64-v1.93.10.tar.gz<br></code></pre></td></tr></table></figure>

<h2 id="2-3-éƒ¨ç½²å¤œèºç›¸å…³å„æœåŠ¡"><a href="#2-3-éƒ¨ç½²å¤œèºç›¸å…³å„æœåŠ¡" class="headerlink" title="2.3    éƒ¨ç½²å¤œèºç›¸å…³å„æœåŠ¡"></a>2.3    éƒ¨ç½²å¤œèºç›¸å…³å„æœåŠ¡</h2><p>ä¾èµ– mysql å­˜å‚¨ç”¨æˆ·é…ç½®ç±»æ•°æ®ï¼Œä¾èµ– redis å­˜å‚¨ jwt token å’Œæœºå™¨å¿ƒè·³ä¸ŠæŠ¥çš„ metadataï¼Œæ‰€ä»¥ï¼Œå…ˆå‡†å¤‡ mysql å’Œ redisã€‚</p>
<h3 id="2-3-1-å®‰è£…victoriametrics"><a href="#2-3-1-å®‰è£…victoriametrics" class="headerlink" title="2.3.1     å®‰è£…victoriametrics"></a>2.3.1     å®‰è£…victoriametrics</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell">tar -zxf victoria-metrics-linux-amd64-v1.93.10.tar.gz -C /data/server<br>chown root:root /data/server/victoria-metrics-prod<br>chmod 755 /data/server/victoria-metrics-prod<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">åˆ›å»ºç”¨æˆ·å’Œç”¨æˆ·ç»„</span><br>useradd -u 1003 victoriametrics<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">éƒ¨ç½²äºŒè¿›åˆ¶æ–‡ä»¶</span><br>cd /data/server<br>install -o victoriametrics -g victoriametrics -m 0755 victoria-metrics-prod /usr/local/bin/victoriametrics<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">åˆ›å»ºè¿›ç¨‹æ–‡ä»¶ä¸æ•°æ®å­˜å‚¨ç›®å½•</span><br>mkdir -p /run/victoriametrics &amp;&amp; chown victoriametrics:victoriametrics /run/victoriametrics<br>mkdir -p /data/server/victoriametrics/data/ &amp;&amp; chown -R victoriametrics:victoriametrics /data/server/victoriametrics/<br></code></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">é…ç½®systemdç®¡ç†æœåŠ¡</span><br>cat &gt; /etc/systemd/system/victoriametrics.service &lt;&lt;EOF<br>[Unit]<br>Description=VictoriaMetrics<br>After=network.target<br><br>[Service]<br>Type=simple<br>StartLimitBurst=5<br>StartLimitInterval=0<br>Restart=on-failure<br>RestartSec=1<br>PIDFile=/run/victoriametrics/victoriametrics.pid<br>ExecStart=/usr/local/bin/victoriametrics -storageDataPath /data/server/victoriametrics/data/ -retentionPeriod 1098 <br>ExecStop=/bin/kill -s SIGTERM $MAINPID<br>User=victoriametrics<br><br>[Install]<br>WantedBy=multi-user.target<br>EOF<br></code></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-built_in">ulimit</span></span> <br>mkdir -p /etc/systemd/system/victoriametrics.service.d<br><br>cat &gt; /etc/systemd/system/victoriametrics.service.d/ulimit.conf &lt;&lt; EOF<br>[Service]<br>LimitNOFILE=32000<br>LimitNPROC=32000<br>EOF<br></code></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">systemctl daemon-reload<br>systemctl start victoriametrics.service<br><br>systemctl enable victoriametrics.service<br>systemctl status victoriametrics.service<br></code></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/10/28/jDpqwNy35HKJ79V.png" srcset="/img/loading.gif" lazyload alt="image-20241028111538618"></p>
<h3 id="2-3-2-å®‰è£…mysql"><a href="#2-3-2-å®‰è£…mysql" class="headerlink" title="2.3.2     å®‰è£…mysql"></a>2.3.2     å®‰è£…mysql</h3><p>å¯¹äºå¤œèºæ¥è¯´ï¼Œå®ƒæœ¬èº«ä¾èµ–çš„å­˜å‚¨æœ‰ä¸¤ä¸ª</p>
<ul>
<li>Mysql : å­˜æ”¾é…ç½®ç±»åˆ«ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·ï¼Œç›‘æ§å¤§ç›˜ï¼Œå‘Šè­¦è§„åˆ™ç­‰</li>
<li>Redis : å­˜æ”¾è®¿é—®ä»¤ç‰Œ(JWT Token)ï¼Œå¿ƒè·³ä¿¡æ¯ï¼Œå¦‚æœºå™¨åˆ—è¡¨ä¸­CPUã€å†…å­˜ã€æ—¶é—´åç§»ã€æ ¸æ•°ã€æ“ä½œç³»ç»Ÿã€CPUæ¶æ„ç­‰</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">apt -y install mariadb*<br>systemctl enable mariadb<br>systemctl status mariadb<br><br>mysql -e &quot;SET PASSWORD FOR &#x27;root&#x27;@&#x27;localhost&#x27; = PASSWORD(&#x27;1234&#x27;);&quot;<br>mysql -uroot -p1234<br></code></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/10/28/Udo7cpgYxGsNt18.png" srcset="/img/loading.gif" lazyload alt="image-20241028111612351"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">å¦‚æœè¿œç¨‹ç™»å½•mysqlæœåŠ¡ç«¯çš„è¯ï¼Œéœ€è¦ä¿®æ”¹50-server.cnfæ–‡ä»¶çš„bind-addressä¸º0.0.0.0(å¦åˆ™åªèƒ½ä»æœ¬æœºç™»å½•)</span><br>vi /etc/mysql/mariadb.conf.d/50-server.cnf<br></code></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/10/28/WFdu9zw3rAhpvKL.png" srcset="/img/loading.gif" lazyload alt="image-20241028111915017"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">ä¿®æ”¹cracklib_password_check.cnfä»¥ä¿®æ”¹ mysqlå¯†ç æ ¡éªŒç­–ç•¥</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">å°†cracklib_password_check æ’ä»¶æ³¨é‡Š</span><br>vi /etc/mysql/mariadb.conf.d/cracklib_password_check.cn<br></code></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/10/28/D4vRBUHp2mICWuQ.png" srcset="/img/loading.gif" lazyload alt="image-20241028112132636"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">é‡å¯æ•°æ®åº“æœåŠ¡</span><br>systemctl restart mariadb.service<br></code></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">ä¸åŠ -hå‚æ•°ï¼Œé»˜è®¤ä»¥æœ¬æœºä¸ºå®¢æˆ·ç«¯ç™»å½•æ•°æ®åº“</span><br>mysql -uroot -p1234<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å…è®¸rootç”¨æˆ·å¯ä»¥ä»ä»»æ„æœºå™¨ä¸Šç™»å…¥mysqlçš„ä»»æ„æ•°æ®åº“ã€æ“ä½œä»»æ„æ•°æ®åº“çš„ä»»æ„è¡¨</span><br>GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &quot;1234&quot;;<br></code></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">è¿œç¨‹ç™»å½•æ•°æ®åº“å†…ï¼Œä¿®æ”¹rootç”¨æˆ·çš„ç™»å½•å¯†ç </span><br>mysql -hxxx -uroot -p1234<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å…è®¸rootç”¨æˆ·å¯ä»¥ä»ä»»æ„æœºå™¨ä¸Šç™»å…¥mysqlçš„ä»»æ„æ•°æ®åº“ã€æ“ä½œä»»æ„æ•°æ®åº“çš„ä»»æ„è¡¨</span><br>GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &quot;1234&quot;;<br></code></pre></td></tr></table></figure>

<h3 id="2-3-3-å®‰è£…redis"><a href="#2-3-3-å®‰è£…redis" class="headerlink" title="2.3.3     å®‰è£…redis"></a>2.3.3     å®‰è£…redis</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">apt install -y redis<br><br>systemctl enable redis<br>systemctl status redis<br></code></pre></td></tr></table></figure>

<h3 id="2-3-4-å®‰è£…n9e"><a href="#2-3-4-å®‰è£…n9e" class="headerlink" title="2.3.4     å®‰è£…n9e"></a>2.3.4     å®‰è£…n9e</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir -p mkdir /data/server/n9e-v6.7.2<br>tar -zxf ztmonitor-v2.0.tar.gz -C /data/server/n9e-v6.7.2/<br><br>cd /data/server/n9e-v6.7.2/ <br><span class="hljs-meta prompt_"># </span><span class="language-bash">è§£å‹ç¼©ä¹‹åï¼Œå¯ä»¥çœ‹åˆ° n9e.sql æ˜¯å»ºè¡¨è¯­å¥ï¼Œå¯¼å…¥æ•°æ®åº“</span> <br>mysql -uroot -p1234 &lt; n9e.sql<br></code></pre></td></tr></table></figure>

<h4 id="2-3-4-1-å°è£…n9e-service"><a href="#2-3-4-1-å°è£…n9e-service" class="headerlink" title="2.3.4.1 å°è£…n9e.service"></a>2.3.4.1 å°è£…n9e.service</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell">cat &gt;&gt; /usr/lib/systemd/system/n9e.service &lt;&lt;EOF<br>[Unit]<br>Description=&quot;n9e&quot;<br>After=network.target mariadb.service<br>[Service]<br>Type=simple<br>ExecStart=/data/server/n9e-v6.7.2/n9e<br>WorkingDirectory=/data/server/n9e-v6.7.2/<br>Restart=on-failure<br>SuccessExitStatus=0<br>LimitNOFILE=65536<br>StandardOutput=syslog<br>StandardError=syslog<br>SyslogIdentifier=n9e<br>[Install]<br>WantedBy=multi-user.target<br>EOF<br></code></pre></td></tr></table></figure>

<h4 id="2-3-4-2-ä¿®æ”¹n9eé…ç½®æ–‡ä»¶"><a href="#2-3-4-2-ä¿®æ”¹n9eé…ç½®æ–‡ä»¶" class="headerlink" title="2.3.4.2 ä¿®æ”¹n9eé…ç½®æ–‡ä»¶"></a>2.3.4.2 ä¿®æ”¹n9eé…ç½®æ–‡ä»¶</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">ä¿®æ”¹./etc/config.tomlæ–‡ä»¶</span><br>vi ./etc/config.toml<br>...<br>[[Pushgw.Writers]]<br>Url = &quot;http://10.13.15.61:8428/api/v1/write&quot;<br>...<br></code></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/10/28/eb235h9dNAgHlX1.png" srcset="/img/loading.gif" lazyload alt="image-20241028140727607"></p>
<h4 id="2-3-4-3-å¯åŠ¨n9eæœåŠ¡"><a href="#2-3-4-3-å¯åŠ¨n9eæœåŠ¡" class="headerlink" title="2.3.4.3 å¯åŠ¨n9eæœåŠ¡"></a>2.3.4.3 å¯åŠ¨n9eæœåŠ¡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">systemctl daemon-reload <br>systemctl restart n9e &amp;&amp; systemctl enable n9e<br>systemctl status n9e<br></code></pre></td></tr></table></figure>

<h4 id="2-3-4-4-è®¿é—®n9eçš„webç•Œé¢"><a href="#2-3-4-4-è®¿é—®n9eçš„webç•Œé¢" class="headerlink" title="2.3.4.4 è®¿é—®n9eçš„webç•Œé¢"></a>2.3.4.4 è®¿é—®n9eçš„webç•Œé¢</h4><p>é“¾æ¥æ˜¯ï¼š<a target="_blank" rel="noopener" href="http://10.13.15.61:17000/login">http://10.13.15.61:17000/login</a></p>
<p><img src="https://s2.loli.net/2024/10/28/HTvd5pO21ZgGAi3.png" srcset="/img/loading.gif" lazyload alt="image-20241028141145325"></p>
<h4 id="2-3-4-5-æ·»åŠ æ•°æ®æº"><a href="#2-3-4-5-æ·»åŠ æ•°æ®æº" class="headerlink" title="2.3.4.5 æ·»åŠ æ•°æ®æº"></a>2.3.4.5 æ·»åŠ æ•°æ®æº</h4><p><img src="https://s2.loli.net/2024/10/28/76VrEiwyYq1f5PX.png" srcset="/img/loading.gif" lazyload alt="image-20241028141904842"></p>
<p><img src="https://s2.loli.net/2024/10/28/Bj6JRhFetmykoIl.png" srcset="/img/loading.gif" lazyload alt="image-20241028141958225"></p>
<h1 id="ä¸‰ã€ä½¿ç”¨å…¥é—¨"><a href="#ä¸‰ã€ä½¿ç”¨å…¥é—¨" class="headerlink" title="ä¸‰ã€ä½¿ç”¨å…¥é—¨"></a>ä¸‰ã€ä½¿ç”¨å…¥é—¨</h1><h2 id="3-1-å¤œèºèƒ½ç›‘æ§ä»€ä¹ˆ"><a href="#3-1-å¤œèºèƒ½ç›‘æ§ä»€ä¹ˆ" class="headerlink" title="3.1 å¤œèºèƒ½ç›‘æ§ä»€ä¹ˆ"></a>3.1 å¤œèºèƒ½ç›‘æ§ä»€ä¹ˆ</h2><p>â€‹		å¤œèºèƒ½å¤Ÿç›‘æ§çš„å¯¹è±¡æœ‰å¾ˆå¤šï¼Œä½†å®ƒæœ¬èº«å¹¶æ²¡æœ‰é‡‡é›†è¢«ç›‘æ§çš„æ•°æ®ã€‚å®ƒæ˜¯ä¸€ä¸ªæœåŠ¡ç«¯ç»„ä»¶ï¼Œç±»ä¼¼ Grafanaï¼Œå¯ä»¥æ¥å…¥ä¸åŒçš„æ•°æ®æºï¼Œæ¯”å¦‚ Prometheusã€VictoriaMetricsã€Thanos ç­‰ç­‰ï¼Œåªè¦æ•°æ®è¿›åˆ°è¿™äº›åº“é‡Œäº†ï¼Œå¤œèºå°±å¯ä»¥å¯¹æ•°æ®æºçš„æ•°æ®è¿›è¡Œåˆ†æã€å‘Šè­¦ã€å¯è§†åŒ–ï¼Œä»¥åŠåç»­çš„äº‹ä»¶å¤„ç†ã€å‘Šè­¦è‡ªæ„ˆã€‚</p>
<h2 id="3-2-å¤œèºå¦‚ä½•è·å–ç›‘æ§æ•°æ®"><a href="#3-2-å¤œèºå¦‚ä½•è·å–ç›‘æ§æ•°æ®" class="headerlink" title="3.2 å¤œèºå¦‚ä½•è·å–ç›‘æ§æ•°æ®"></a>3.2 å¤œèºå¦‚ä½•è·å–ç›‘æ§æ•°æ®</h2><p>â€‹		å¤œèºæœ‰ç«¯å£æ¥æ”¶ç›‘æ§æ•°æ®ï¼Œåªè¦å„ç›‘æ§é‡‡é›†å™¨è·Ÿå¤œèºæ‰“é€šäº†å°±èƒ½å°†æ•°æ®æ¨é€ç»™å¤œèºï¼Œå¤œèºæ¥æ”¶åˆ°é‡‡é›†æ•°æ®åï¼Œå¯èƒ½ä¼šè¿›è¡Œå°‘é‡å¤„ç†å¦‚æ·»åŠ å°‘è®¸æ ‡ç­¾ï¼Œç„¶åä¼šä¿å­˜åˆ°n9eé…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æ—¶åºæ•°æ®åº“ä¸­ï¼ˆå¦‚ä¸Šè¿°.&#x2F;etc&#x2F;config.tomlæ–‡ä»¶ä¸­[Pushgw.Writers]ç»„ä¸‹Urlé…ç½®çš„victoria-metricsï¼‰ã€‚ç„¶ååœ¨å¤œèºçš„webç•Œé¢ï¼Œå¯ä»¥åˆ›å»ºå¤œèºä¸­çš„æ•°æ®æºï¼Œæ•°æ®æºæ˜¯å„ä»ªè¡¨ç›˜å¯è§†åŒ–ä¸å‘Šè­¦åˆ†æçš„æ•°æ®æ¥æºã€‚</p>
<p>â€‹		å¸¸ç”¨çš„å¼€æºé‡‡é›†å™¨å¦‚ Telegrafã€Categrafã€Grafana-agentã€Datadog-agentã€Prometheus ç”Ÿæ€çš„å„ç±» Exporter ç­‰ç­‰ï¼Œéƒ½æ˜¯å¯ä»¥è·Ÿå¤œèºç»“åˆä¸€èµ·ä½¿ç”¨çš„ã€‚è¿™äº› agent ï¼ˆä¹Ÿå°±æ˜¯é‡‡é›†å™¨ï¼‰é‡‡é›†äº†æ•°æ®æ¨ç»™å¤œèºï¼Œå¤œèºé€‚é…äº†è¿™äº› agent çš„æ•°æ®ä¼ è¾“åè®®ï¼Œæ‰€ä»¥å¯ä»¥æ¥æ”¶è¿™äº› agent ä¸ŠæŠ¥çš„ç›‘æ§æ•°æ®ï¼Œè½¬å­˜åˆ°åç«¯å¯¹æ¥çš„æ—¶åºæ•°æ®åº“ï¼Œä¹‹åå°±å¯ä»¥å¯¹è¿™äº›æ•°æ®åšå‘Šè­¦åˆ†æã€å¯è§†åŒ–ã€‚</p>
<p>â€‹		Categraf æ˜¯ä¸€ä¸ªå¼€æºçš„ç›‘æ§é‡‡é›† Agentï¼Œç”±å¿«çŒ«æ˜Ÿäº‘æŠ€æœ¯å›¢é˜Ÿï¼ˆä¹Ÿå°±æ˜¯å¤œèºçš„å¼€å‘å›¢é˜Ÿï¼‰ç ”å‘å¹¶å¼€æºï¼Œæä¾›äº†å¯¹æ‰€æœ‰å¸¸è§ç›‘æ§å¯¹è±¡å¦‚Linux&#x2F;WindowsæœåŠ¡å™¨ã€MySQlæ•°æ®åº“ã€k8sã€å®¹å™¨ã€NVIDIA GPUç­‰ç­‰æä¾›é«˜è´¨é‡çš„ç›‘æ§æ•°æ®é‡‡é›†èƒ½åŠ›ï¼Œé‡‡ç”¨äº† All-in-one çš„è®¾è®¡ç†å¿µï¼Œå¯ä»¥åŒæ—¶æ”¯æŒæŒ‡æ ‡ã€æ—¥å¿—ã€é“¾è·¯è¿½è¸ªæ•°æ®çš„é‡‡é›†ã€‚ä»¥ä¸‹ä»¥ categraf é‡‡é›†å™¨ä¸ºä¾‹è¿›è¡Œè¯´æ˜ä¸æ“ä½œã€‚</p>
<p>â€‹		ä¸€èˆ¬æ¥è¯´ï¼Œè¢«ç›‘æ§å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå¯¹åº” Categraf è¿›ç¨‹ã€‚æ¯”å¦‚è¯´è¦ç›‘æ§ 10.13.15.61 è¿™ä¸ªæœåŠ¡å™¨çš„NVIDIA GPUã€cpuã€å†…å­˜ã€ç£ç›˜ã€ä¸Šä¼ ä¸‹è½½ç½‘é€Ÿç­‰è¿™ç±»æœåŠ¡å™¨å›ºæœ‰ä¿¡æ¯ï¼Œæˆ–è¿™å…¶ä¸Šéƒ¨ç½²çš„è½¯ä»¶å¦‚MySQLã€k8s ç­‰ï¼Œå°±éœ€è¦åœ¨10.13.15.61 è¿™ä¸ªæœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿä¸Šå®‰è£…categrafï¼Œå¹¶è¿›è¡Œé…ç½®ã€‚Categrafç›®å‰æ”¯æŒçš„æ“ä½œç³»ç»ŸåŒ…æ‹¬Windowsã€LinuxåŠmacOSï¼Œå…·ä½“çš„ç‰ˆæœ¬ç»†èŠ‚è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚</p>
<h2 id="3-3-å®‰è£…ä¸é…ç½®-categraf"><a href="#3-3-å®‰è£…ä¸é…ç½®-categraf" class="headerlink" title="3.3 å®‰è£…ä¸é…ç½® categraf"></a>3.3 å®‰è£…ä¸é…ç½® categraf</h2><p>â€‹		categraf å…¶å®æ˜¯ä¸€ä¸ªé‡‡é›†æ’ä»¶é›†åˆï¼Œå…¶ä¸­åŒ…å«äº†å¤šä¸ªé’ˆå¯¹å¸¸è§è¢«ç›‘æ§å¯¹è±¡çš„æ’ä»¶ï¼Œå¦‚input.cpuã€input.diskã€input.mysqlç­‰ç­‰ï¼Œè¿™äº›æ’ä»¶éƒ½æ”¾åœ¨categrafå®‰è£…ç›®å½•ä¸‹çš„ conf å­ç›®å½•ä¸‹ï¼Œæ¯ä¸ªä»¥ â€input.â€œ å¼€å¤´çš„å­ç›®å½•å°±æ˜¯categraf çš„ä¸€ä¸ªé‡‡é›†æ’ä»¶ã€‚</p>
<p>â€‹		å¦‚æœè¦ç¦ç”¨æŸä¸ªæ’ä»¶ï¼ŒæŠŠ input.xx æ”¹ä¸ªå…¶ä»–å‰ç¼€(æˆ–è€…åˆ é™¤è¿™ä¸ªç›®å½•)ï¼Œæ¯”å¦‚ bak.input.xxï¼Œcategraf å°±ä¼šå¿½ç•¥è¿™ä¸ªé‡‡é›†å™¨ã€‚</p>
<p>â€‹		categrafå®‰è£…å¥½åï¼Œå¦‚æœä¸å¯¹é»˜è®¤æ’ä»¶é…ç½®ç›®å½•åŠæ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œå®ƒé»˜è®¤ä¹Ÿä¼šå¯ç”¨å¸¸åŸºæœ¬çš„æ’ä»¶å¦‚input.cpuã€input.diskç­‰ï¼Œä»¥é‡‡é›†æœ€å¸¸è§çš„æœåŠ¡å™¨ä¸æ“ä½œç³»ç»Ÿæ•°æŒ‡æ ‡æ•°æ®å¦‚cpuã€å†…å­˜ã€ç£ç›˜å¤§å°ä¸ioã€ä¸Šä¼ ä¸‹è½½é€Ÿç‡ç­‰ã€‚é»˜è®¤æ²¡æœ‰é‡‡é›†çš„æŒ‡æ ‡æ•°æ®å°±éœ€è¦ä½¿ç”¨å…¶ä»– Categraf æ’ä»¶æ¥å®¢åˆ¶åŒ–é‡‡é›†ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">tar -zxf /data/softs/categraf-v0.3.61-linux-amd64.tar.gz -C /data/server/<br>cd /data/server<br>cp categraf-v0.3.61-linux-amd64/conf/categraf.service /usr/lib/systemd/system/<br></code></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell">vi /usr/lib/systemd/system/categraf.service<br><span class="hljs-meta prompt_">#</span><span class="language-bash">ä¿®æ”¹åå†…å®¹å¦‚ä¸‹</span><br>[Unit]<br>Description=&quot;Categraf&quot;<br>After=network.target<br><br>[Service]<br>Type=simple<br><br>ExecStart=/data/server/categraf-v0.3.61-linux-amd64/categraf  #è¿™é‡Œ<br>WorkingDirectory=/data/server/categraf-v0.3.61-linux-amd64    #è¿™é‡Œ<br><br>Restart=on-failure<br>SuccessExitStatus=0<br>LimitNOFILE=65536<br>StandardOutput=syslog<br>StandardError=syslog<br>SyslogIdentifier=categraf<br><br><br>[Install]<br>WantedBy=multi-user.target<br></code></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell">vi categraf-v0.3.61-linux-amd64/conf/config.toml <br><span class="hljs-meta prompt_">#</span><span class="language-bash">ä»¥ä¸‹ä¿®æ”¹åçš„å‡ ç‚¹</span><br>[global]<br>...<br>hostname = &quot;$ip&quot;   #å¤œèºä¸­ä»¥è‡ªåŠ¨è·å–åˆ°çš„æœåŠ¡å™¨ipæ ‡è¯†æœåŠ¡å™¨<br>...<br>[[writers]]<br>url = &quot;http://10.13.15.61:17000/prometheus/v1/write&quot;       #å¤œèºæ¥æ”¶ç›‘æ§æ•°æ®çš„url<br>...<br>[heartbeat]<br>...<br><span class="hljs-meta prompt_"># </span><span class="language-bash">report os version cpu.util mem.util metadata</span><br>url = &quot;http://10.13.15.61:17000/v1/n9e/heartbeat?gid=1&quot;    #å¤œèºä¸­æ¥æ”¶ç›‘æ§å¯¹è±¡å¿ƒè·³çš„urlã€‚æœ€ååŠ ä¸Š&quot;gid=1&quot;ä¼šè‡ªåŠ¨å°†è¢«ç›‘æ§æœåŠ¡å™¨å½’åˆ°é»˜è®¤ä¸šåŠ¡ç»„å†…<br>...<br></code></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">å¯åŠ¨categrafæœåŠ¡</span><br>systemctl daemon-reload <br>systemctl start categraf.service &amp;&amp; systemctl enable categraf.service<br>systemctl status categraf.service<br></code></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/10/28/RiErvmyUs4oqbMA.png" srcset="/img/loading.gif" lazyload alt="image-20241028145210919"></p>
<h2 id="3-4-ç›‘æ§"><a href="#3-4-ç›‘æ§" class="headerlink" title="3.4 ç›‘æ§"></a>3.4 ç›‘æ§</h2><h3 id="3-4-1-ç›‘æ§æœåŠ¡å™¨ä¿¡æ¯"><a href="#3-4-1-ç›‘æ§æœåŠ¡å™¨ä¿¡æ¯" class="headerlink" title="3.4.1 ç›‘æ§æœåŠ¡å™¨ä¿¡æ¯"></a>3.4.1 ç›‘æ§æœåŠ¡å™¨ä¿¡æ¯</h3><p>â€‹		categrafå®‰è£…å¥½åï¼Œé»˜è®¤ä¼šå¯ç”¨å¸¸åŸºæœ¬çš„æ’ä»¶å¦‚input.cpuã€input.diskç­‰ï¼Œä»¥é‡‡é›†æœ€å¸¸è§çš„æœåŠ¡å™¨ä¸æ“ä½œç³»ç»Ÿæ•°æŒ‡æ ‡æ•°æ®å¦‚cpuã€å†…å­˜ã€ç£ç›˜å¤§å°ä¸ioã€ä¸Šä¼ ä¸‹è½½é€Ÿç‡ç­‰ã€‚</p>
<p><img src="https://s2.loli.net/2024/10/28/F8zGBrDYpkyLmqn.png" srcset="/img/loading.gif" lazyload alt="image-20241028145414264"></p>
<p><img src="https://s2.loli.net/2024/10/28/mO6IC8TtDlE5B2b.png" srcset="/img/loading.gif" lazyload alt="image-20241028145442200"></p>
<p>æŸ¥çœ‹åˆšåˆšå…‹éš†çš„ä»ªè¡¨ç›˜åŠå…¶ä¸­æ•°æ®ï¼š</p>
<p><img src="https://s2.loli.net/2024/10/28/NxRH1UczZeoiDMB.png" srcset="/img/loading.gif" lazyload alt="image-20241028145535733"></p>
<p><img src="https://s2.loli.net/2024/10/29/eugmKTJybG53l8q.png" srcset="/img/loading.gif" lazyload alt="image-20241029095051041"></p>
<h3 id="3-5-1-ç›‘æ§k8såŠå®¹å™¨"><a href="#3-5-1-ç›‘æ§k8såŠå®¹å™¨" class="headerlink" title="3.5.1 ç›‘æ§k8såŠå®¹å™¨"></a>3.5.1 ç›‘æ§k8såŠå®¹å™¨</h3><p>â€‹		å‚è€ƒç¬”è€…ä»¥å‰å†™çš„æ–‡ç« ï¼š<a href="https://jiangsanyin.github.io/2024/05/26/%E5%A4%9C%E8%8E%BAnightingalev6-7-2%E9%80%9A%E8%BF%87kubelet%E9%87%87%E9%9B%86docker%E5%AE%B9%E5%99%A8%E7%9B%91%E6%8E%A7%E6%95%B0%E6%8D%AE/">https://jiangsanyin.github.io/2024/05/26/%E5%A4%9C%E8%8E%BAnightingalev6-7-2%E9%80%9A%E8%BF%87kubelet%E9%87%87%E9%9B%86docker%E5%AE%B9%E5%99%A8%E7%9B%91%E6%8E%A7%E6%95%B0%E6%8D%AE/</a></p>
<h3 id="3-6-1-é‡‡é›†ç›‘æ§å…¶ä»–å¯¹è±¡æ•°æ®"><a href="#3-6-1-é‡‡é›†ç›‘æ§å…¶ä»–å¯¹è±¡æ•°æ®" class="headerlink" title="3.6.1 é‡‡é›†ç›‘æ§å…¶ä»–å¯¹è±¡æ•°æ®"></a>3.6.1 é‡‡é›†ç›‘æ§å…¶ä»–å¯¹è±¡æ•°æ®</h3><p>â€‹		å…³äºå…¶ä»–æ’ä»¶çš„ç”¨æ³•ï¼Œå‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://flashcat.cloud/docs/content/flashcat-monitor/categraf/plugin/introduction/">https://flashcat.cloud/docs/content/flashcat-monitor/categraf/plugin/introduction/</a></p>
<h2 id="3-5-åŸºç¡€è®¾æ–½-æœºå™¨åˆ—è¡¨"><a href="#3-5-åŸºç¡€è®¾æ–½-æœºå™¨åˆ—è¡¨" class="headerlink" title="3.5 åŸºç¡€è®¾æ–½-æœºå™¨åˆ—è¡¨"></a>3.5 åŸºç¡€è®¾æ–½-æœºå™¨åˆ—è¡¨</h2><p>â€‹		n9e æŠŠæ•°æ®çš„è½¬å‘ç»™æ—¶åºæ•°æ®åº“ä¹‹å‰ï¼Œä¼šå…ˆä»ç›‘æ§æ•°æ®ä¸­æå–å‡º ident æ ‡ç­¾å†™å…¥ mysql çš„ target è¡¨ï¼ˆæœºå™¨åˆ—è¡¨ï¼‰ä¸­ï¼ŒåŒæ—¶ Categraf ä¼šæŠŠå¿ƒè·³ä¸ŠæŠ¥çš„ metadata å­˜å…¥ Redisï¼ˆå°±æ˜¯é‚£äº›æ ¸æ•°ã€æ“ä½œç³»ç»Ÿã€CPUæ¶æ„ç­‰ï¼‰ã€‚è¿™äº›æ•°æ®å°±æ˜¯å°±æ˜¯å±•ç¤ºåœ¨â€œåŸºç¡€è®¾æ–½-æœºå™¨åˆ—è¡¨â€é¡µé¢çš„æœåŠ¡å™¨ã€‚</p>
<p><img src="https://s2.loli.net/2024/10/28/rbKXLuyedAvsg1S.png" srcset="/img/loading.gif" lazyload alt="image-20241028220233328"></p>
<h2 id="3-6-äººå‘˜ç»„ç»‡"><a href="#3-6-äººå‘˜ç»„ç»‡" class="headerlink" title="3.6 äººå‘˜ç»„ç»‡"></a>3.6 äººå‘˜ç»„ç»‡</h2><h3 id="3-6-1-ç”¨æˆ·ç®¡ç†"><a href="#3-6-1-ç”¨æˆ·ç®¡ç†" class="headerlink" title="3.6.1 ç”¨æˆ·ç®¡ç†"></a>3.6.1 ç”¨æˆ·ç®¡ç†</h3><p>â€‹		æ­¤é¡µé¢çš„ç”¨æˆ·æ˜¯å¤œèºç³»ç»Ÿä¸­çš„ç”¨æˆ·ï¼Œæ›´ç›´è§‚åœ°è®²å°±æ˜¯å¯ä»¥ç™»å½•æ­¤webç³»ç»Ÿçš„ç”¨æˆ·ã€‚taå¯èƒ½æ˜¯æŸä¸ªä½¿ç”¨è€…çš„é€»è¾‘æ˜ å°„ï¼Œä¹Ÿå¯èƒ½æ˜¯æŸä¸ªæœºå™¨äººå¦‚é’‰é’‰æœºå™¨äººã€‚ä»…æœ‰ä¸€ä¸ªé»˜è®¤çš„rootç”¨æˆ·ä¹Ÿå¯ä»¥ç»§ç»­ä½¿ç”¨æ­¤ç³»ç»Ÿã€‚</p>
<p><img src="https://s2.loli.net/2024/10/28/UJmPW1NqKIgdCYw.png" srcset="/img/loading.gif" lazyload alt="image-20241028224349420"></p>
<h3 id="3-6-2-å›¢é˜Ÿç®¡ç†"><a href="#3-6-2-å›¢é˜Ÿç®¡ç†" class="headerlink" title="3.6.2 å›¢é˜Ÿç®¡ç†"></a>3.6.2 å›¢é˜Ÿç®¡ç†</h3><p>â€‹		å›¢é˜Ÿå°±æ˜¯å¤šä¸ªç”¨æˆ·çš„é›†åˆã€‚</p>
<p><img src="https://s2.loli.net/2024/10/29/Ttglb6deoSiRUNc.png" srcset="/img/loading.gif" lazyload alt="image-20241029095403547"></p>
<h3 id="3-6-3-ä¸šåŠ¡ç»„ç®¡ç†"><a href="#3-6-3-ä¸šåŠ¡ç»„ç®¡ç†" class="headerlink" title="3.6.3 ä¸šåŠ¡ç»„ç®¡ç†"></a>3.6.3 ä¸šåŠ¡ç»„ç®¡ç†</h3><p>â€‹		ä¸šåŠ¡ç»„ä¸‹é¢åŒ…å«å¤šä¸ªå›¢é˜Ÿï¼Œæ¯ä¸ªå›¢é˜Ÿåˆæœ‰å„è‡ªçš„æˆå‘˜ã€‚è¿™æ ·åˆ’åˆ†ç»“æ„ï¼Œåœ¨ä½¿ç”¨å‘Šè­¦è§„åˆ™éå¸¸æœ‰ç”¨ï¼Œå³æŸä¸ªä¸šåŠ¡ç»„ä¸‹çš„å¯èƒ½æœ‰å¤šä¸ªå‘Šè­¦è§„åˆ™ï¼Œè€Œè¿™äº›å‘Šè­¦åˆ™æ£€æŸ¥çš„å¯¹è±¡å¦‚æœåŠ¡å™¨å¯èƒ½æ˜¯ç”±ä¸åŒçš„å›¢é˜Ÿè´Ÿè´£çš„ï¼Œè¿™æ ·ä¸€æ¥ï¼Œç›¸åº”çš„æŠ¥è­¦å°±åº”è¯¥å‘é€ç»™å¯¹åº”å›¢é˜Ÿä¸‹é¢çš„ç”¨æˆ·ï¼Œæœ‰åˆ©äºé¿å…æ‰“æ‰°ä¸æƒè´£çš„ç•Œå®šã€‚</p>
<p><img src="https://s2.loli.net/2024/10/28/HWapfo31FODgvLy.png" srcset="/img/loading.gif" lazyload alt="image-20241028225018637"></p>
<h2 id="3-7-å‘Šè­¦ç®¡ç†"><a href="#3-7-å‘Šè­¦ç®¡ç†" class="headerlink" title="3.7 å‘Šè­¦ç®¡ç†"></a>3.7 å‘Šè­¦ç®¡ç†</h2><h3 id="3-6-1-å†…ç½®è§„åˆ™"><a href="#3-6-1-å†…ç½®è§„åˆ™" class="headerlink" title="3.6.1 å†…ç½®è§„åˆ™"></a>3.6.1 å†…ç½®è§„åˆ™</h3><p>â€‹		å†…ç½®è§„åˆ™æ˜¯å¤œèºé»˜è®¤å·²ç»å†…ç½®çš„ä¸€äº›å¸¸ç”¨æˆ–åŸºç¡€çš„å‘Šè­¦è§„åˆ™ï¼Œç”¨æˆ·å¼€ç®±å³ç”¨çš„ã€‚</p>
<p>â€‹		å°†å…¶è¿›è¡Œå…‹éš†å³å¯å½¢æˆè‡ªå·±çš„å‘Šè­¦è§„åˆ™ï¼Œå¯ä»¥å¯¹å†…ç½®è§„åˆ™è¿›è¡Œå…‹éš†å†è¿›è¡Œä¿®æ”¹ï¼Œåˆ›å»ºæ»¡è¶³è‡ªå·±å®é™…éœ€æ±‚çš„å‘Šè­¦è§„åˆ™ã€‚å¦‚ä¸‹ä¸¤å¼ å›¾çš„æ“ä½œï¼Œä»å†…ç½®å‘Šè­¦ç»„å…‹éš†ä¸€ä¸ªå‘Šè­¦è§„åˆ™åˆ°é»˜è®¤ä¸šåŠ¡ç»„ä¸‹ï¼Œä½†å¹¶æ²¡æœ‰å¯ç”¨ã€‚å½“ç„¶ä¹Ÿå¯æŸ¥çœ‹â€œå†…ç½®è§„åˆ™â€çš„å†…å®¹ï¼Œä»è€Œç¡®å®šæ˜¯å¦æ˜¯è‡ªå·±æƒ³è¦çš„å‡†å‘Šè­¦è§„åˆ™ã€‚</p>
<p><img src="https://s2.loli.net/2024/10/28/LGI8snSCHqipePo.png" srcset="/img/loading.gif" lazyload alt="image-20241028220625744"></p>
<p><img src="https://s2.loli.net/2024/10/28/9Z7xFYG46aWfw2s.png" srcset="/img/loading.gif" lazyload alt="image-20241028221656103"></p>
<h3 id="3-6-2-å‘Šè­¦è§„åˆ™"><a href="#3-6-2-å‘Šè­¦è§„åˆ™" class="headerlink" title="3.6.2 å‘Šè­¦è§„åˆ™"></a>3.6.2 å‘Šè­¦è§„åˆ™</h3><p>â€‹		å…‹éš†å¾—åˆ°çš„å‘Šè­¦è§„åˆ™åœ¨å¦‚ä¸‹çš„â€œå‘Šè­¦è§„åˆ™â€é¡µé¢ï¼Œç‚¹å‡»è§„åˆ™åç§°å¯ä»¥å†æ¬¡å¯¹å…¶è¿›è¡Œç¼–è¾‘ã€‚ç¼–è¾‘å¥½çš„å‘Šè­¦è§„åˆ™ä¸€å®šç¡®è®¤å·²ç»å¯ç”¨ï¼Œå¦åˆ™ç›¸å½“äºè¢«ç¦ç”¨äº†ã€‚</p>
<p><img src="https://s2.loli.net/2024/10/28/bGmkQZgFqBRnTUX.png" srcset="/img/loading.gif" lazyload alt="image-20241028221953883"></p>
<p><img src="https://s2.loli.net/2024/10/28/tCNmaKYVIfuUZFP.png" srcset="/img/loading.gif" lazyload alt="image-20241028222701515"></p>
<p><img src="https://s2.loli.net/2024/10/28/2gaTSyFUW1LwvPp.png" srcset="/img/loading.gif" lazyload alt="image-20241028224050927"></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E7%9B%91%E6%8E%A7/" class="category-chain-item">ç›‘æ§</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%BC%80%E6%BA%90-%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F-%E5%A4%9C%E8%8E%BAV6-7-2/" class="print-no-link">#å¼€æº ç›‘æ§ç³»ç»Ÿ å¤œèºV6.7.2</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>å¼€æºç›‘æ§ç³»ç»Ÿå¤œèºV6-7-2ä»‹ç»-éƒ¨ç½²-ä½¿ç”¨å…¥é—¨</div>
      <div>https://jiangsanyin.github.io/2024/10/27/å¼€æºç›‘æ§ç³»ç»Ÿå¤œèºV6-7-2ä»‹ç»-éƒ¨ç½²-ä½¿ç”¨å…¥é—¨/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>sanyinjiang</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2024å¹´10æœˆ27æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/10/30/arm64%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8B%E7%9A%84Harbor-v2-11-1%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="arm64æœåŠ¡å™¨ä¸‹çš„Harbor-v2.11.1ç¯å¢ƒæ­å»º">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">arm64æœåŠ¡å™¨ä¸‹çš„Harbor-v2.11.1ç¯å¢ƒæ­å»º</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/10/22/%E5%BC%82%E6%9E%84%E7%AE%97%E5%8A%9B%E8%99%9A%E6%8B%9F%E5%8C%96%E4%B8%AD%E9%97%B4%E4%BB%B6HAMi%E4%BB%8B%E7%BB%8D%E4%B8%8E%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" title="å¼‚æ„ç®—åŠ›è™šæ‹ŸåŒ–ä¸­é—´ä»¶HAMiä»‹ç»ä¸ç®€å•ä½¿ç”¨">
                        <span class="hidden-mobile">å¼‚æ„ç®—åŠ›è™šæ‹ŸåŒ–ä¸­é—´ä»¶HAMiä»‹ç»ä¸ç®€å•ä½¿ç”¨</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"lhgjNNoNy5Syl0F4Bw8i5P5K-gzGzoHsz","appKey":"0d6M8Wx7ZmYewOQqA20Nbqen","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        æ€»è®¿é—®é‡ 
        <span id="leancloud-site-pv"></span>
         æ¬¡
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        æ€»è®¿å®¢æ•° 
        <span id="leancloud-site-uv"></span>
         äºº
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>





  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
